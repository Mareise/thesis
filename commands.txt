su - $USER

microk8s stop
microk8s start

sudo snap stop microk8s


microk8s kn func deploy --registry index.docker.io/maxireis/

microk8s kubectl port-forward -n kube-system service/kubernetes-dashboard 10443:443


microk8s kubectl create configmap config-domain \
  --from-literal=128.131.172.93.sslip.io="" \
  -n knative-serving


microk8s kubectl patch configmap config-domain \
  --namespace knative-serving \
  --type merge \
  --patch '{"data":{"128.131.172.93.sslip.io":""}}'


export microk8s config to kube config
microk8s kubectl config view --raw > $HOME/.kube/config


Check if there is gpu Allocatable
kubectl describe node blackdragon | grep -A 10 "Allocatable"


Get configmaps
kubectl get configmaps -n knative-serving
kubectl get configmap config-network -n knative-serving -o yaml

Create a quick test pod
kubectl run curlpod --image=curlimages/curl -i --tty --rm -- sh


Prometheus query from terminal
curl "http:/10.1.255.36:9090/api/v1/query?query=histogram_quantile(0.9%2C%20rate(activator_request_latencies_bucket%7Bnamespace_name%3D%22default%22%2C%20configuration_name%3D~%22wasgeht%22%7D%5B10m%5D))"

curl http://prometheus-kube-prometheus-prometheus.default.svc.cluster.local:9090/-/ready
